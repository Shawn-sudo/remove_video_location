<!--
This README describes the package. If you publish this package to pub.dev,
this README's contents appear on the landing page for your package.

For information about how to write a good package README, see the guide for
[writing package pages](https://dart.dev/tools/pub/writing-package-pages).

For general information about developing packages, see the Dart guide for
[creating packages](https://dart.dev/guides/libraries/create-packages)
and the Flutter guide for
[developing packages and plugins](https://flutter.dev/to/develop-packages).
-->

## remove_video_metadata

`remove_video_metadata` is a Flutter plugin that strips selected metadata from video files **without re-encoding**. The plugin remuxes the original tracks using platform-native frameworks so the process stays fast and lossless.

### 💡 Why this plugin?

Most solutions rely on bundling FFmpeg, which bloats app size and ships countless features you never use when all you need is to strip a couple of metadata atoms. I couldn’t find a Flutter plugin focused on editing video metadata—photo metadata tools exist, but videos were left out—so this package fills that niche with lightweight, native implementations.

### ✨ Features

- 🚫 Remove GPS coordinates (ISO 6709 metadata) from videos.
- 🗓️ Optionally drop container-level creation timestamps.
- ⚙️ Zero re-encoding – video and audio samples are copied as-is.
- 📱 Works on Android (MediaExtractor/MediaMuxer) and iOS (AVFoundation).

### 📦 Installation

Add the dependency to your `pubspec.yaml`:

```yaml
dependencies:
  remove_video_metadata: ^0.0.1
```

Then fetch packages:

```sh
flutter pub get
```

### 🚀 Usage

```dart
import 'package:remove_video_metadata/remove_video_metadata.dart';

Future<void> cleanVideo() async {
  final cleanedPath = await RemoveVideoMetadata.instance.removeMetadata(
    inputPath: '/storage/emulated/0/DCIM/Camera/VID_123.mp4',
    fields: const {
      VideoMetadataField.location,
      VideoMetadataField.creationTimestamp,
    },
  );

  // Use the cleaned video file.
  print('Metadata removed → $cleanedPath');
}
```

By default the plugin writes a sibling file with the suffix `_clean`. Pass an `outputPath` if you need full control over the destination and set `overwrite: true` to replace existing files.

### 🛠️ Platform notes

- **Android**: Uses `MediaExtractor` and `MediaMuxer` to remux the video. Location metadata is only retained if you do not request its removal. Creation timestamps are regenerated by the muxer; enabling their removal prevents the original value from being copied into the remuxed file.
- **iOS**: Uses `AVAssetExportSession` with `AVAssetExportPresetPassthrough` and filters metadata via `AVMetadataItem` identifiers before exporting.

### ⚠️ Limitations

- Only the listed metadata fields are currently removed. Additional fields will be added as native APIs allow.
- You must pass file-system paths that your app can read and write. Request the necessary storage permissions on Android when accessing shared storage.

### 🤝 Contributing

Contributions are welcome! Please open an issue with your proposal before submitting a pull request. See the [CHANGELOG](CHANGELOG.md) for release notes.
